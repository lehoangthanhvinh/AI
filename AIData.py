class BoardState:
    def __init__(self,board,turn,castle,lastmove):
        self.board=[row [:] for row in board]
        self.turn=turn
        self.castle=castle
        self.lastmove=lastmove
MoveSet={
    'k':([1,0,-1,-1,-1,0,1,1],[1,1,1,0,-1,-1,-1,0]),
    'q':([7,0,-7,-7,-7,0,7,7],[7,7,7,0,-7,-7,-7,0]),
    'b':([7,-7,-7,7],[-7,-7,7,7]),
    'n':([2,1,-1,-2,-2,-1,1,2],[1,2,2,1,-1,-2,-2,-1]),
    'r':([7,0,-7,0],[0,7,0,-7]),
    'p':([1],[0]),
    'K':([1,0,-1,-1,-1,0,1,1],[1,1,1,0,-1,-1,-1,0]),
    'Q':([7,0,-7,-7,-7,0,7,7],[7,7,7,0,-7,-7,-7,0]),
    'B':([7,-7,-7,7],[-7,-7,7,7]),
    'N':([2,1,-1,-2,-2,-1,1,2],[1,2,2,1,-1,-2,-2,-1]),
    'R':([7,0,-7,0],[0,7,0,-7]),
    'P':([-1],[0]),
    '.':([],[])
}
PieceValue={
    'k':-20000,
    'q':-900,
    'b':-350,
    'n':-300,
    'r':-500,
    'p':-100,
    'K':20000,
    'Q':900,
    'B':350,
    'N':300,
    'R':500,
    'P':100,
    '.':0
}
KingBoardOpening=[
    [-700,-750,-800,-850,-850,-800,-750,-700],
    [-600,-650,-700,-750,-750,-700,-650,-600],
    [-500,-550,-600,-650,-650,-600,-550,-500],
    [-400,-450,-500,-550,-550,-500,-450,-400],
    [-300,-350,-400,-450,-450,-400,-350,-300],
    [-200,-250,-300,-350,-350,-300,-250,-200],
    [ 100, 100, 100, 100, 100, 100, 100, 100],
    [ 100, 150, 200, 120, 120, 100, 200, 100]
]
QueenBoardOpening=[
    [   0,   0,   0,   0,   0,   0,   0,   0],
    [   0,   0,   0,   0,   0,   0,   0,   0],
    [- 20,- 20,- 20,- 20,- 20,- 20,- 20,- 20],
    [- 20,- 10,- 10,- 10,- 10,- 10,- 10,- 20],
    [- 20,- 10,- 10,- 10,- 10,- 10,- 10,- 20],
    [   0,   0,   0,   0,   0,   0,   0,   0],
    [   0,   0,   0,   0,   0,   0,   0,   0],
    [   0,   0,   0,   0,   0,   0,   0,   0]
]
RookBoardOpening=[
    [   0,   0,   0,   0,   0,   0,   0,   0],
    [  20,  30,  50, 100, 100,  50,  30,  20],
    [   0,   0,   0,   0,   0,   0,   0,   0],
    [   0,   0,   0,   0,   0,   0,   0,   0],
    [   0,   0,   0,  10,  10,   0,   0,   0],
    [  10,  20,  20,  20,  20,  20,  20,  10],
    [   0,   0,  30,  50,  50,  30,   0,   0],
    [   0,- 50,- 50, 100, 100, 100,- 50,   0]
]
BishopBoardOpening=[
    [-200,-150,-100,-100,-100,-100,-150,-200],
    [-130,  30,   0,- 10,- 10,   0,  30,-130],
    [- 50,  70,  20,  50,  50,  20,  70,- 50],
    [  10,  90, 120, 150, 150, 120,  90,  10],
    [  30,  80, 120, 150, 150, 120,  80,  30],
    [- 80,  70,  70,  30,  30,  70,  70,- 80],
    [-100, 110,   0,  50,  50,   0, 110,-100],
    [-200,-140,-100,- 20,- 20,-100,-140,-200]
]
KnightBoardOpening=[
    [-250,-120,- 70,- 40,- 40,- 70,-120,-250],
    [-140,- 70,   0,  20,  20,   0,- 70,-140],
    [- 80,   0,  80,  70,  70,  80,   0,- 80],
    [- 30, 100, 110, 100, 100, 110, 100,- 30],
    [- 30,  80, 120, 100, 100, 120,  80,- 30],
    [- 70, 120, 130, 130, 130, 130, 120,- 70],
    [-170,-160,  70,  20,  20,  70,-160,-170],
    [-200,-100,-100,- 50,- 50,-100,-100,-200]
]
PawnBoardOpening=[
    [   0,   0,   0,   0,   0,   0,   0,   0],
    [ 500, 500, 500, 500, 500, 500, 500, 500],
    [ 100, 150, 200, 250, 250, 200, 150, 100],
    [   0,  70, 100, 200, 200, 100,  70,   0],
    [- 50,- 50,   0, 150, 150,   0,- 50,- 50],
    [- 10,- 10,  50,  30,  30,  50,- 10,- 10],
    [ 100, 100, 100,- 90,- 90, 100, 100, 100],
    [   0,   0,   0,   0,   0,   0,   0,   0]
]
KingBoardMidGame=[
    [-260,-280,-300,-320,-320,-300,-280,-260],
    [-220,-240,-260,-280,-280,-260,-240,-220],
    [-180,-200,-220,-240,-240,-220,-200,-180],
    [-140,-160,-180,-200,-200,-180,-160,-140],
    [-100,-120,-140,-160,-160,-140,-120,-100],
    [   0,- 40,- 60,- 80,- 80,- 60,- 40,   0],
    [  90,  80,  50,- 10,- 10,  50,  80,  90],
    [  50, 100,  60,- 10,- 10,  60, 100,  50]
]
QueenBoardMidGame=[
    [-100,   0,   0,  10,  10,   0,   0,-100],
    [   0,   0,  10,  10,  10,  10,   0,   0],
    [   0,   0,   0,  10,  10,   0,   0,   0],
    [   0,   0,   0,  20,  20,   0,   0,   0],
    [  50,  70,  20,  50,  50,  20,  70,  50],
    [  30,  40,  40,  30,  30,  40,  40,  30],
    [-120,- 50,- 30,  30,  30,- 30,- 50,-120],
    [-200,-100,- 80,- 50,- 50,- 80,-100,-200]
]
RookBoardMidGame=[
    [   0,   0,   0,  50,  50,   0,   0,   0],
    [  40,  50,  60,  70,  70,  60,  50,  40],
    [   0,   0,   0,  20,  20,   0,   0,   0],
    [   0,   0,   0,  30,  30,   0,   0,   0],
    [   0,   0,  20,  50,  50,  20,   0,   0],
    [  30,  40,  50,  60,  60,  50,  40,  30],
    [- 50,   0,   0,  80,  80,   0,   0,- 50],
    [-200,-100,  70, 100, 100,  70,-100,-200]
]
BishopBoardMidGame=[
    [-100,- 90,- 60,- 40,- 40,- 60,- 90,-100],
    [- 90,- 70,  30,   0,   0,  30,- 70,- 90],
    [  80,   0, 100,  80,  80, 100,   0,  80],
    [  70, 100,  80, 150, 150,  80, 100,  70],
    [  50,  80, 100, 150, 150, 100,  80,  50],
    [  30,  70,  70,  80,  80,  70,  70,  30],
    [-200,- 50,- 20,   0,   0,- 20,- 50,-200],
    [-350,-300,-300,-200,-200,-300,-300,-350]
]
KnightBoardMidGame=[
    [-200,-150,-120,-100,-100,-120,-150,-200],
    [-150,-100,   0,   0,   0,   0,-100,-150],
    [- 50, 100,  60,  40,  40,  60, 100,- 50],
    [  10,  60, 100, 200, 200, 100,  60,  10],
    [   0,  70, 120, 200, 200, 120,  70,   0],
    [- 20,  80, 100,  60,  60, 100,  80,- 20],
    [-100,-170,  20,  40,  40,  20,-170,-100],
    [-300,-200,-100,- 50,- 50,-100,-200,-300]
]
PawnBoardMidGame=[
    [   0,   0,   0,   0,   0,   0,   0,   0],
    [ 500, 500, 500, 500, 500, 500, 500, 500],
    [ 150, 200, 250, 300, 300, 250, 200, 150],
    [  50,  50, 150, 200, 200, 150,  50,  50],
    [   0,   0, 100, 100, 100, 100,   0,   0],
    [  50,  50,  50,  50,  50,  50,  50,  50],
    [  50,  50,  30,- 90,- 90,  30,  50,  50],
    [   0,   0,   0,   0,   0,   0,   0,   0]
]
KingBoardEndGame=[
    [   0,   0,   0,   0,   0,   0,   0,   0],
    [   0,   0,   0,   0,   0,   0,   0,   0],
    [   0,   0,   0,   0,   0,   0,   0,   0],
    [   0,   0,   0,   0,   0,   0,   0,   0],
    [   0,   0,   0,   0,   0,   0,   0,   0],
    [   0,   0,   0,   0,   0,   0,   0,   0],
    [   0,   0,   0,   0,   0,   0,   0,   0],
    [   0,   0,   0,   0,   0,   0,   0,   0]
]
QueenBoardEndGame=[
    [- 10,- 10,- 10,- 10,- 10,- 10,- 10,- 10],
    [- 10,   0,   0,   0,   0,   0,   0,- 10],
    [- 10,   0,  10,  10,  10,  10,   0,- 10],
    [- 10,   0,  10,  20,  20,  10,   0,- 10],
    [- 10,   0,  10,  20,  20,  10,   0,- 10],
    [- 10,   0,  10,  10,  10,  10,   0,- 10],
    [- 10,   0,   0,   0,   0,   0,   0,- 10],
    [- 10,- 10,- 10,- 10,- 10,- 10,- 10,- 10]
]
RookBoardEndGame=[
    [   0,  10,  10,  30,  30,  10,  10,   0],
    [   0,  10,  30,  50,  50,  30,  10,   0],
    [   0,   0,   0,  40,  40,   0,   0,   0],
    [   0,   0,   0,  40,  40,   0,   0,   0],
    [   0,   0,  10,  40,  40,  10,   0,   0],
    [   0,  10,  30,  40,  40,  30,  10,   0],
    [   0,  10,  30,  40,  40,  30,  10,   0],
    [- 10,   0,  10,  20,  20,  10,   0,- 10]
]
BishopBoardEndGame=[
    [   0,  10,  10,  20,  20,  10,  10,   0],
    [  10,  20,  30,  30,  30,  60,  20,  10],
    [  10,  30,  40,  40,  40,  40,  30,  10],
    [  20,  30,  40,  50,  50,  40,  30,  20],
    [  20,  30,  40,  50,  50,  40,  30,  20],
    [  10,  30,  40,  40,  40,  40,  30,  10],
    [  10,  20,  30,  30,  30,  30,  20,  10],
    [   0,  10,  10,  20,  20,  10,  10,   0]
]
KnightBoardEndGame=[
    [- 50,- 30,- 10,- 10,- 10,- 10,- 30,- 50],
    [- 30,- 10,  30,  60,  60,  30,- 20,- 30],
    [- 10,  30,  70,  90,  90,  70,  30,- 10],
    [- 10,  60,  90, 100, 100,  90,  60,- 10],
    [- 10,  60,  90, 100, 100,  90,  60,- 10],
    [- 10,  30,  70,  90,  90,  70,  30,- 10],
    [- 30,- 10,  30,  60,  60,  30,- 20,- 30],
    [- 50,- 30,- 10,- 10,- 10,- 10,- 30,- 50]
]
PawnBoardEndGame=[
    [   0,   0,   0,   0,   0,   0,   0,   0],
    [ 500, 500, 500, 500, 500, 500, 500, 500],
    [ 170, 200, 200, 200, 200, 200, 200, 170],
    [  30,  50,  50,  50,  50,  50,  50,  30],
    [- 20,- 10,- 10,- 10,- 10,- 10,- 10,- 20],
    [- 70,- 50,- 50,- 50,- 50,- 50,- 50,- 70],
    [- 90,- 90,- 90,- 90,- 90,- 90,- 90,- 90],
    [   0,   0,   0,   0,   0,   0,   0,   0]
]
PositionValueOpening={
    'k':KingBoardOpening,
    'q':QueenBoardOpening,
    'b':BishopBoardOpening,
    'n':KnightBoardOpening,
    'r':RookBoardOpening,
    'p':PawnBoardOpening,
    'K':KingBoardOpening,
    'Q':QueenBoardOpening,
    'B':BishopBoardOpening,
    'N':KnightBoardOpening,
    'R':RookBoardOpening,
    'P':PawnBoardOpening
}
PositionValueMidGame={
    'k':KingBoardMidGame,
    'q':QueenBoardMidGame,
    'b':BishopBoardMidGame,
    'n':KnightBoardMidGame,
    'r':RookBoardMidGame,
    'p':PawnBoardMidGame,
    'K':KingBoardMidGame,
    'Q':QueenBoardMidGame,
    'B':BishopBoardMidGame,
    'N':KnightBoardMidGame,
    'R':RookBoardMidGame,
    'P':PawnBoardMidGame
}
PositionValueEndGame={
    'k':KingBoardEndGame,
    'q':QueenBoardEndGame,
    'b':BishopBoardEndGame,
    'n':KnightBoardEndGame,
    'r':RookBoardEndGame,
    'p':PawnBoardEndGame,
    'K':KingBoardEndGame,
    'Q':QueenBoardEndGame,
    'B':BishopBoardEndGame,
    'N':KnightBoardEndGame,
    'R':RookBoardEndGame,
    'P':PawnBoardEndGame
}
PositionValue=[PositionValueOpening,PositionValueMidGame,PositionValueEndGame]
Piece=(('K','Q','R','B','N','P'),('k','q','r','b','n','p'))
Col=('a','b','c','d','e','f','g','h')
Row=('8','7','6','5','4','3','2','1')
Board=[
    ['r','n','b','q','k','b','n','r'],
    ['p','p','p','p','p','p','p','p'],
    ['.','.','.','.','.','.','.','.'],
    ['.','.','.','.','.','.','.','.'],
    ['.','.','.','.','.','.','.','.'],
    ['.','.','.','.','.','.','.','.'],
    ['P','P','P','P','P','P','P','P'],
    ['R','N','B','Q','K','B','N','R']
]